version: 2

models:
  - name: wk_self_managed_spo
    description: Workspace model that builds a MVC for Self-Managed SPO and SPU KPIs.
    columns:
      - name: organization_id
        description: A unique id that is a combination of the host_name and dim_instance_id.
        tests:
          - not_null
      - name: delivery
        description: delivery is based on the product category name and is either SaaS or Self-Managed delivery.
        tests:
          - not_null
      - name: organization_type
        description: segmentation for organization type. Values - Group, Individual, User
        tests:
          - not_null
          - accepted_values:
              values: ['Group','Individual']
      - name: active_stage_count
        description: number of active stages for a given organization in a given month


  - name: wk_saas_spo
    description: Workspace model that shows monthly Stages per Organization data on a namespace-level for SaaS.
    columns:
      - name: reporting_month
        description: Month in which the product usage was reported.
        tests:
          - not_null
      - name: organization_id
        description: Top-level namespace id.
        tests:
          - not_null
      - name: delivery
        description: delivery is based on the product category name and is either SaaS or Self-Managed delivery.
        tests:
          - not_null
      - name: organization_type
        description: segmentation for organization type. Values - Group, Individual, User
        tests:
          - not_null
          - accepted_values:
              values: ['Group','Individual','User']
      - name: product_tier
        description: segmentation for Product Tier. Values - Core (CE, EE), Starter, Premium, Ultimate, NULL
        tests:
          - not_null
      - name: is_paid_product_tier
        description: Denotes whether the organization is on a paid product tier at the time of reporting.
        tests:
          - not_null
      - name: active_stage_count
        description: number of active stages for a given organization in a given month

  - name: wk_usage_ping_geo_node_usage
    description: Extract and flatten data from the geo nodes
    columns:
      - name: instance_path_id
        description: the unique ID for the combination of the ping_id and the path (unique service ping identifier and the metrics path).
        tests:
          - not_null
          - unique


  - name: fct_usage_event
    description: '{{ doc("fct_usage_event") }}'
    columns:
      - name: event_id
        description: The unique ID of an event.
        tests:
          - not_null
          - unique
      - name: event_name
        description: The name tied to an event
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: dim_product_tier_id
        description: The unique id of a Product Tier in the dim_product_tier model.
      - name: dim_subscripton_id
        description: The unique id of a subscription from the dim_subscription model
      - name: dim_event_date_id
        description: The unique date id of an event to join to dim_date.
      - name: dim_crm_account_id
        description: The unique id of a crm account in the dim_crm_account model.
      - name: dim_billing_account_id
        description: The unqiue id of a billing account in the dim_billing_account model.
      - name: dim_namespace_id
        description: The unique id of the ultimate parent namespace from the dim_namespace model.
      - name: dim_project_id
        description: The unique id of a project from the dim_project model.
      - name: dim_user_id
        description: The unique id of a user from the dim_user model.
      - name: stage_name
        description: The name of the product stage (Stages are aligned logically starting with the 7 loop stages of Plan, Create, Verify, Package, Release, Configure, and Monitor. We then add the value stages that we talk about in marketing, these include Manage, Secure, and Protect. Lastly, we add the team stages, Ecosystem, Growth, and Enablement. These stages have groups that rally around the same users, GitLab integrators, GitLab itself, and GitLab administrators respectively.).
      - name: section_name
        description: The name of the section (Sections are a collection of stages. We attempt to align these logically along common workflows like Dev, Sec and Ops.).
      - name: group_name
        description: The name of the group (A stage has one or more groups.).
      - name: event_created_at
        description: The date at which the event was created
      - name: plan_id_at_event_date
        description: The id of the plan on the day the event was created.
      - name: plan_name_at_event_date
        description: The name of the plan type when the event was created
      - name: plan_was_paid_at_event_date
        description: Defines whether the plan was paid or free when the event was created
      - name: project_is_learn_gitlab
        description: Denotes whether the event is related to a Learn GitLab project, one created for the user during new user onboarding.
      - name: data_source
        description: The source application where the data was extracted from.
      - name: created_by
        description: Who created this model?
      - name: update_by
        description: Who updated this model last?
      - name: model_created_date
        description: The date at which the model was created
      - name: model_updated_date
        description: The date at which the model code was last updated

  - name: mart_usage_event
    description: '{{ doc("mart_usage_event") }}'
    columns:
      - name: event_id
        description: The unique ID of an event.
        tests:
          - not_null
          - unique
      - name: event_date
        description: The date when the event was created.
      - name: dim_user_id
        description: The unique id of a user in the dim_user model.
      - name: event_name
        description: The name tied to an event
      - name: dim_product_tier_id
        description: The unique id of a Product Tier in the dim_product_tier model.
      - name: dim_subscripton_id
        description: The unique id of a subscription from the dim_subscription model
      - name: dim_crm_account_id
        description: The unique id of a crm account in the dim_crm_account model.
      - name: dim_billing_account_id
        description: The unqiue id of a billing account in the dim_billing_account model.
      - name: stage_name
        description: The name of the product stage (Stages are aligned logically starting with the 7 loop stages of Plan, Create, Verify, Package, Release, Configure, and Monitor. We then add the value stages that we talk about in marketing, these include Manage, Secure, and Protect. Lastly, we add the team stages, Ecosystem, Growth, and Enablement. These stages have groups that rally around the same users, GitLab integrators, GitLab itself, and GitLab administrators respectively.).
      - name: section_name
        description: The name of the section (Sections are a collection of stages. We attempt to align these logically along common workflows like Dev, Sec and Ops.).
      - name: group_name
        description: The name of the group (A stage has one or more groups.).
      - name: data_source
        description: The source application where the data was extracted from.
      - name: plan_id_at_event_date
        description: The id of the plan on the day the event was created.
      - name: plan_name_at_event_date
        description: The name of the plan type when the event was created
      - name: plan_was_paid_at_event_date
        description: Defines whether the plan was paid or free when the event was created
      - name: dim_namespace_id
        description: The unique id of the ultimate parent namespace from the dim_namespace model.
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: namespace_created_at
        description: The date when the namespace was created.
      - name: days_since_namespace_created
        description: The days since the namespace was created.
      - name: is_smau
        description: Denotes whether the event is identified as the stage's SMAU (stage monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_gmau
        description: Denotes whether the event is identified as the group's GMAU (group monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_umau
        description: Denotes whether the event is identified as the UMAU (unique monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: created_by
        description: Who created this model?
      - name: update_by
        description: Who updated this model last?
      - name: model_created_date
        description: The date at which the model was created
      - name: model_updated_date
        description: The date at which the model code was last updated


  - name: mart_usage_namespace_daily
    description: '{{ doc("mart_usage_namespace_daily") }}'
    columns:
      - name: mart_usage_namespace_id
        description: the unique ID combination of the event_date, event_name, na ddim_namespace_id in mart_usage_namespace.
        tests:
          - not_null
          - unique
      - name: event_date
        description: The date when the event was created.
      - name: event_name
        description: The name tied to an event
      - name: dim_product_tier_id
        description: The unique id of a Product Tier in the dim_product_tier model.
      - name: dim_subscripton_id
        description: The unique id of a subscription from the dim_subscription model
      - name: dim_crm_account_id
        description: The unique id of a crm account in the dim_crm_account model.
      - name: dim_billing_account_id
        description: The unqiue id of a billing account in the dim_billing_account model.
      - name: stage_name
        description: The name of the product stage (Stages are aligned logically starting with the 7 loop stages of Plan, Create, Verify, Package, Release, Configure, and Monitor. We then add the value stages that we talk about in marketing, these include Manage, Secure, and Protect. Lastly, we add the team stages, Ecosystem, Growth, and Enablement. These stages have groups that rally around the same users, GitLab integrators, GitLab itself, and GitLab administrators respectively.).
      - name: section_name
        description: The name of the section (Sections are a collection of stages. We attempt to align these logically along common workflows like Dev, Sec and Ops.).
      - name: group_name
        description: The name of the group (A stage has one or more groups.).
      - name: data_source
        description: The source application where the data was extracted from.
      - name: plan_id_at_event_date
        description: The id of the plan on the day the event was created.
      - name: plan_name_at_event_date
        description: The name of the plan type when the event was created
      - name: plan_was_paid_at_event_date
        description: Defines whether the plan was paid or free when the event was created
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: dim_namespace_id
        description: The unique id of the ultimate parent namespace from the dim_namespace model.
      - name: namespace_created_at
        description: The date when the namespace was created.
      - name: days_since_namespace_created
        description: The days since the namespace was created.
      - name: is_smau
        description: Denotes whether the event is identified as the stage's SMAU (stage monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_gmau
        description: Denotes whether the event is identified as the group's GMAU (group monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_umau
        description: Denotes whether the event is identified as the UMAU (unique monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: event_count
        description: The count of events
      - name: distinct_user_count
        description: The count of distinct users
      - name: created_by
        description: Who created this model?
      - name: update_by
        description: Who updated this model last?
      - name: model_created_date
        description: The date at which the model was created
      - name: model_updated_date
        description: The date at which the model code was last updated

  - name: mart_usage_instance_daily
    description: '{{ doc("mart_usage_instance_daily") }}'
    columns:
      - name: mart_usage_instance_id
        description: the unique ID combination of the event_date, event_name, and dim_instance_id in mart_usage_instance.
        tests:
          - not_null
          - unique
      - name: event_date
        description: The date when the event was created.
      - name: event_name
        description: The name tied to an event
      - name: data_source
        description: The source application where the data was extracted from.
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: event_count
        description: The count of events
      - name: distinct_user_count
        description: The count of distinct users
      - name: created_by
        description: Who created this model?
      - name: update_by
        description: Who updated this model last?
      - name: model_created_date
        description: The date at which the model was created
      - name: model_updated_date
        description: The date at which the model code was last updated

  - name: mart_usage_event_daily
    description: '{{ doc("mart_usage_event_daily") }}'
    columns:
      - name: mart_usage_event_daily_id
        description: the unique composite ID for the mart_usage_event_daily model consisting of event_date, dim_user_id, dim_namespace_id, and event_name.
        tests:
          - not_null
          - unique
      - name: event_date
        description: The date when the event was created.
      - name: dim_user_id
        description: The unique id of a user in the dim_user model.
      - name: dim_namespace_id
        description: The unique id of the ultimate parent namespace from the dim_namespace model.
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: plan_id_at_event_date
        description: The id of the plan on the day the event was created.
      - name: event_name
        description: The name tied to an event
      - name: dim_product_tier_id
        description: The unique id of a Product Tier in the dim_product_tier model.
      - name: dim_subscripton_id
        description: The unique id of a subscription from the dim_subscription model
      - name: dim_crm_account_id
        description: The unique id of a crm account in the dim_crm_account model.
      - name: dim_billing_account_id
        description: The unqiue id of a billing account in the dim_billing_account model.
      - name: stage_name
        description: The name of the product stage (Stages are aligned logically starting with the 7 loop stages of Plan, Create, Verify, Package, Release, Configure, and Monitor. We then add the value stages that we talk about in marketing, these include Manage, Secure, and Protect. Lastly, we add the team stages, Ecosystem, Growth, and Enablement. These stages have groups that rally around the same users, GitLab integrators, GitLab itself, and GitLab administrators respectively.).
      - name: section_name
        description: The name of the section (Sections are a collection of stages. We attempt to align these logically along common workflows like Dev, Sec and Ops.).
      - name: group_name
        description: The name of the group (A stage has one or more groups.).
      - name: data_source
        description: The source application where the data was extracted from.
      - name: plan_name_at_event_date
        description: The name of the plan type when the event was created
      - name: plan_was_paid_at_event_date
        description: Defines whether the plan was paid or free when the event was created
      - name: namespace_is_internal
        description: Tells whether this namespace is internal or not
      - name: namespace_created_at
        description: The date when the nampespace was created.
      - name: days_since_namespace_created
        description: The days since the namespace was created.
      - name: days_since_namespace_creation_at_event_date
        description: The days since the namespace was created from the day the event was created.
      - name: is_smau
        description: Denotes whether the event is identified as the stage's SMAU (stage monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_gmau
        description: Denotes whether the event is identified as the group's GMAU (group monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_umau
        description: Denotes whether the event is identified as the UMAU (unique monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: event_count
        description: The count of events
      - name: created_by
        description: Who created this model?
      - name: update_by
        description: Who updated this model last?
      - name: model_created_date
        description: The date at which the model was created
      - name: model_updated_date
        description: The date at which the model code was last updated

  - name: mart_usage_event_plan_monthly
    description: '{{ doc("mart_usage_event_plan_monthly") }}'
    columns:
      - name: mart_usage_event_plan_monthly_id
        description: the unique ID of a montthly usage event plan in mart_usage_event_plan_monthly
        tests:
          - not_null
          - unique
      - name: reporting_month
        description: Month in which the product usage was reported. (this model only looks at the last 28 days of the month.)
      - name: plan_id_at_event_date
        description: The id of the plan on the day the event was created.
      - name: event_name
        description: The name tied to an event
      - name: stage_name
        description: The name of the product stage (Stages are aligned logically starting with the 7 loop stages of Plan, Create, Verify, Package, Release, Configure, and Monitor. We then add the value stages that we talk about in marketing, these include Manage, Secure, and Protect. Lastly, we add the team stages, Ecosystem, Growth, and Enablement. These stages have groups that rally around the same users, GitLab integrators, GitLab itself, and GitLab administrators respectively.).
      - name: section_name
        description: The name of the section (Sections are a collection of stages. We attempt to align these logically along common workflows like Dev, Sec and Ops.).
      - name: group_name
        description: The name of the group (A stage has one or more groups.).
      - name: is_smau
        description: Denotes whether the event is identified as the stage's SMAU (stage monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/#structure) for metric definitions
      - name: is_gmau
        description: Denotes whether the event is identified as the group's GMAU (group monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/#structure) for metric definitions
      - name: is_umau
        description: Denotes whether the event is identified as the UMAU (unique monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/#structure) for metric definitions
      - name: event_count
        description: The count of events
      - name: namespace_count
        description: The count of namespaces
      - name: user_count
        description: The count of users
      - name: created_by
        description: Who created this model?
      - name: update_by
        description: Who updated this model last?
      - name: model_created_date
        description: The date at which the model was created
      - name: model_updated_date
        description: The date at which the model code was last updated

  - name: prep_service_ping_instance
    description: ' {{ doc("prep_service_ping_instance") }} '
    columns:
      - name: dim_service_ping_instance_id
        tests:
          - not_null
          - unique
        description: the unique id associated with the dim_service_ping_instance
      - name: dim_host_id
        tests:
          - relationships:
              to: ref('dim_host')
              field: dim_host_id
        description: The unique id of a host from the dim_host model (brought in from source data).
      - name: dim_instance_id
        tests:
          - relationships:
              to: ref('dim_instances')
              field: dim_instance_id
        description:  The uuid of an instance from the dim_instances model.
      - name: ping_created_at
        description: The time when the ping was created
      - name: ip_address_hash
        description: The source_ip_hash associated with the instance
      - name: version
        description: the version associated with the instance (9., 10., 11., ... 14.)
      - name: instance_user_count
        description:  the user count for the instance
      - name: license_md5
        description: the license_md5 associated with teh instance
      - name: historical_max_users
        description: the max user number the instance has had
      - name: license_user_count
        description: the user count for the license
      - name: license_starts_at
        description: the date the license starts at
      - name: license_expires_at
        description:  the date the license ends on
      - name: license_add_ons
        description: the add ones associated with the license
      - name: mattermost_enabled
        description: denotes whether mattermost is enabled 
      - name: uuid
        description: the unique id of the instance from the dim_instances model
      - name: hostname
        description: the name associated with the host
      - name: host_id
        description: The unique id of a host from the dim_host model (brought in from source data).
      - name: license_trial
        description: denoted whether the license is a trial or not
      - name: source_license_id
        description: the unique id of a source license
      - name: installation_type
        description: the type of installation associated with the instance (i.e. gitlab-development-kit, gitlab-helm-chart, gitlab-omnibus-helm-chart)
      - name: license_plan
        description: the license plan associated with the instance (i.e. Ultimate, Premium)
      - name: database_adapter
        description: the type of database adapter being usedd (i.e. mysql2, postgresql)
      - name: database_version
        description: the database version associated with the instance (i.e. 9.5.3)
      - name: git_version
        description: the version of gitlab the instance is running (i.e. 2.17.0, 2.33.1, 2.23.0)

  - name: prep_service_ping_instance_flattened
    description: ' {{ doc("prep_service_ping_instance_flattened") }} '
    columns:
      - name: prep_service_ping_instance_flattened_id
        tests:
          - not_null
          #- unique
        description: The unique ID of the prep_service_ping_instance_flattenned model consisting of dim_service_ping_instance_id and path
      - name: dim_host_id
        tests:
          - relationships:
              to: ref('dim_host')
              field: dim_host_id
        description: The unique id of a host from the dim_host model (brought in from source data).
      - name: dim_instance_id
        tests:
          - relationships:
              to: ref('dim_instances')
              field: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: dim_service_ping_instance_id
        tests:
          - relationships:
              to: ref('dim_service_ping_instance')
              field: dim_service_ping_instance_id
      - name: ping_created_at
        description: The time when the ping was created
      - name: main_edition
        description: The main edition associated with the instance (EE, CE)
      - name: product_tier
        description: The product tier associated with the instance (Premium, Starter, Core, Ultimate)
      - name: license_subscription_id
        description: The unique id of a license subscription
      - name: license_trial_ends_on
        description: The date when the trial license ends
      - name: umau_value
        description: The unique monthly active user value
      - name: metrics_path
        description: The path that the metric is applied along
      - name: metric_value
        description: The value associated with the metric path
      - name: has_timed_out
        description: A flag to denote that it has timed out

  - name: fct_service_ping_instance_metric
    description: ' {{ doc("fct_service_ping_instance_metric") }} '
    columns:
      - name: fct_service_ping_instance_metric_id
        tests:
          - not_null
          #- unique
        description: the unique composite ID for the fct_service_ping_instance_metric model consisting of dim_service_ping_instance_id and flattened_high_level.metrics_path
      - name: dim_service_ping_instance_id
        tests:
          - relationships:
              to: ref('dim_service_ping_instance')
              field: dim_service_ping_instance_id
        description: The unqiue id of a service ping insatnce in the dim_service_ping_instance model.
      - name: dim_product_tier_id
        tests:
          - relationships:
              to: ref('dim_product_tier')
              field: dim_product_tier_id
        description: The unique id of a Product Tier in the dim_product_tier model.
      - name: dim_location_country_id
        tests:
          - relationships:
              to: ref('dim_location_country')
              field: dim_location_country_id
      - name: dim_service_ping_date_id
        description: The unique id of a country from the dim_location_country model
      - name: dim_host_id
        tests:
          - relationships:
              to: ref('dim_host')
              field: dim_host_id
        description: The unique id of a host from the dim_host model (brought in from source data).
      - name: dim_instance_id
        tests:
          - relationships:
              to: ref('dim_instances')
              field: instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: dim_date_id
        tests:
          - relationships:
              to: ref('dim_date')
              field: date_id
        description: The unqiue id of a date in the dim_date model.
      - name: dim_license_id
        tests:
          - relationships:
              to: ref('dim_license')
              field: dim_license_id
        description:  The unique id of a license from the dim_license model.
#      - name: dim_installation_id
#        tests:
#          - relationships:
#              to: ref('dim_installation')
#              field: dim_installation_id
      - name: metrics_path
        description: The path that the metric is applied along
      - name: metric_value
        description: The value associated with the metric path
      - name: dim_installation_id
        description: The unique id of a instalation from the dim_installation model
      - name: time_frame
        description: The time frame associated with the instance
      - name: ping_created_at
        description: The time when the ping was created
      - name: ping_created_at_date
        description: The date when the ping was created
      - name: data_source
        description: The source application where the data was extracted from.
      - name: has_timed_out
        description: A flag to denote that it has timed out
      - name: dim_subscripton_id
        description: The unique id of a subscription from the dim_subscription model
      - name: dim_subscripton_license_id
        description: The unique id of a license subscription
      - name: time_frame
        description: The time frame associated with the instance
      - name: umau_value
        description: The unique monthly active user value

  - name: dim_service_ping_instance
    description: ' {{ doc("dim_service_ping_instance") }} '
    columns:
      - name: dim_service_ping_instance_id
        tests:
          - not_null
          - unique
      - name: dim_service_ping_date_id
        description: the unique id associated with the dim_service_ping_instance
      - name: dim_host_id
        tests:
          - relationships:
              to: ref('dim_host')
              field: dim_host_id
        description: The unique id of a host from the dim_host model (brought in from source data).
      - name: dim_instance_id
        tests:
          - relationships:
              to: ref('dim_instances')
              field: instance_id
        description: The unique id of an instance (brought in from usage_data source data).
      - name: dim_date_id
        tests:
          - relationships:
              to: ref('dim_date')
              field: date_id
        description: The unqiue id of a date in the dim_date model.
      - name: ping_created_at
        description: The time when the ping was created
      - name: ping_created_at_28_days_earlier
        description: The date 28 days prior to when the ping was created
      - name: ping_created_at_year
        description: The year when the ping was created
      - name: ping_created_at_month
        description: The month when the ping was created
      - name: ping_created_at_week
        description: The week when the ping was created
      - name: ping_created_at_date
        description: The date when the ping was created
      - name: ip_address_hash
        description: The ip_address_has associated with the instance
      - name: version
        description: the version associated with the instance (9., 10., 11., ... 14.)
      - name: instance_user_count
        description:  the user count for the instance
      - name: license_md5
        description: the license_md5 associated with teh instance
      - name: historical_max_users
        description: the max user number the instance has had
      - name: license_user_count
        description: the user count for the license
      - name: license_starts_at
        description: the date the license starts at
      - name: license_expires_at
        description:  the date the license ends on
      - name: license_add_ons
        description: the add ones associated with the license
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: dim_installation_id
        description: The unique id of a instalation from the dim_installation model
      - name: host_name
        description: the name associated with the host
      - name: product_tier
        description: The product tier associated with the instance (Premium, Starter, Core, Ultimate)
      - name: is_trial
        description: denotes whetehr the instance is a on a trial plan
      - name: source_license_id
        description: the unique id of a source license
      - name: installation_type
        description: the type of installation associated with the instance (i.e. gitlab-development-kit, gitlab-helm-chart, gitlab-omnibus-helm-chart)
      - name: license_plan
        description: the license plan associated with the instance (i.e. Ultimate, Premium)
      - name: database_version
        description: the database version associated with the instance (i.e. 9.5.3)
      - name: git_version
        description: the version of gitlab the instance is running (i.e. 2.17.0, 2.33.1, 2.23.0)
      - name: major_version
        description: The major version associated with this instance (i.e. 14, 11)
      - name: minor_version
        description: The minor version associated with this instance (i.e. 6, 10, 9)
      - name: major_minor_version
        description: The major minor version associated with this instance (i.e. 14.6, 11.1, 14.9)
      - name: version_is_prerelease
        description: Denotes whether the version is prerelaease
      - name: is_internal
        description: Denotes whether the instacnce is internal
      - name: is_staging
        description: Denotes whether the instance is associated with a stage

  - name: mart_service_ping_instance_metric
    description: ' {{ doc("mart_service_ping_instance_metric") }} '
    columns:
      - name: mart_service_ping_instance_metric_id
        tests:
          - not_null
          #- unique
        description: the unique composite ID for the mart_service_ping_instance_metric model consisting of dim_service_ping_instance_id and metrics_path
      - name: dim_date_id
        description: The unqiue id of a date in the dim_date model.
      - name: metrics_path
        description: The path that the metric is applied along
      - name: metric_value
        description: The value associated with the metric path
      - name: dim_service_ping_instance_id
        description: The unqiue id of a service ping insatnce in the dim_service_ping_instance model.
      - name: dim_instance_id
        description: The unique uuid of an instance from the dim_instances model.
      - name: dim_license_id
        description:  The unique id of a license from the dim_license model.
      - name: dim_installation_id
        description: The unique id of a instalation from the dim_installation model
      - name: latest_active_subscription_id
        description:  The unique id of the latest active subscription 
      - name: dim_billing_account_id
        description: The unqiue id of a billing account in the dim_billing_account model.
      - name: dim_parent_crm_account_id
        description: The unique id of a parent crm account in the dim_parent_crm_account model.
      - name: dim_host_id
        description: The unique id of a host from the dim_host model (brought in from source data).
      - name: major_minor_version_id
        description:  The unique id of the major minor version
      - name: host_name
        description: The name of the host
      - name: service_ping_delivery_type
        description: The type of delivery method of the service ping (i.e. Self-Managed, SaaS)
      - name: edition
        description: The edition associated with the instance (EE, CE)
      - name: ping_product_tier
        description: The product tier of the ping (i.e. Self-Managed - Free, Self-Managed - Premium, Self-Managed - Ultimate)
      - name: ping_main_edition_product_tier
        description: A combination of the main_edition and the ping_product_tier (EE - Self-Managed - Free, EE - Self-Managed - Premium, EE - Self-Managed - Ultimate)
      - name: major_version
        description: The major version associated with this instance (i.e. 14, 11)
      - name: minor_version
        description: The minor version associated with this instance (i.e. 6, 10, 9)
      - name: major_minor_version
        description: The major minor version associated with this instance (i.e. 14.6, 11.1, 14.9)
      - name: version_is_prerelease
        description: Denotes whether the version is prerelaease
      - name: is_internal
        description: Denotes whether the instacnce is internal
      - name: is_staging
        description: Denotes whether the instance is associated with a stage
      - name: is_trial
        description: Denotes wherther the account is a trial
      - name: umau_value
        description: The unique monthly active user value
      - name: stage_name
        description: The name of the product stage (Stages are aligned logically starting with the 7 loop stages of Plan, Create, Verify, Package, Release, Configure, and Monitor. We then add the value stages that we talk about in marketing, these include Manage, Secure, and Protect. Lastly, we add the team stages, Ecosystem, Growth, and Enablement. These stages have groups that rally around the same users, GitLab integrators, GitLab itself, and GitLab administrators respectively.).
      - name: section_name
        description: The name of the section (Sections are a collection of stages. We attempt to align these logically along common workflows like Dev, Sec and Ops.).
      - name: group_name
        description: The name of the group (A stage has one or more groups.).
      - name: is_smau
        description: Denotes whether the event is identified as the stage's SMAU (stage monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_gmau
        description: Denotes whether the event is identified as the stage's GMAU (group monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_paid_gmau
        description: Denotes whether the instance is paid gmau
      - name: is_umau
        description: Denotes whether the event is identified as the stage's UMAU (unique monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions 
      - name: time_frame
        description: The time frame associated with the instance
      - name: instance_user_count
        description: The user count for the instance
      - name: subscription_name_slugify
      - name: subscription_start_month
        description: The month the subscription started
      - name: subscription_end_month
        description: The month th esubscription ended
      - name: product_category_array
        description: The array for the product category associated with the instance
      - name: product_rate_plan_name_array
        description: The array for the product rate plan name associated with the instance
      - name: is_paid_subscription
        description: Denotes whether the instance has a paid subscription
      - name: is_program_subscription
        description: Denotes whether the instance has a program subscription
      - name: crm_account_name
        description: The name of the crm account
      - name: parent_crm_account_name
        description: The name of the parent crm account
      - name: parent_crm_account_billing_country
        description: The billing country associated with the parent crm account
      - name: parent_crm_account_sales_segment
        description: The sales segment associated witht he parent crm account
      - name: parent_crm_account_industry
        description: The industry associated with the parent crm account
      - name: parent_crm_account_owner_team
        description: The team that owns the parent crm account
      - name: parent_crm_account_sales_territory
        description: The sales territoy where the parent crm account is located
      - name: technical_account_manager
        description: The name of the techincal account manager
      - name: ping_created_at
        description: The time when the ping was created
      - name: ping_created_at_month
        description: The month when the ping was created
      - name: is_last_ping_of_month
        description: Denotes whether this ping associated with the data is the last ping of the month

  - name: mart_service_ping_instance_metric_28_day
    description: ' {{ doc("mart_service_ping_instance_metric_28_day") }} '
    columns:
      - name: mart_service_ping_instance_metric_id
        tests:
          - not_null
          - unique

  - name: mart_service_ping_instance_metric_7_day
    description: ' {{ doc("mart_service_ping_instance_metric_7_day") }} '
    columns:
      - name: mart_service_ping_instance_metric_id
        tests:
          - not_null
          - unique

  - name: mart_service_ping_instance_metric_all_time
    description: ' {{ doc("mart_service_ping_instance_metric_all_time") }} '
    columns:
      - name: mart_service_ping_instance_metric_id
        tests:
          - not_null
          - unique

  - name: rpt_service_ping_instance_metric_adoption_monthly
    description: ' {{ doc("rpt_service_ping_instance_metric_adoption_monthly") }} '
    columns:
      - name: rpt_service_ping_instance_metric_adoption_monthly_id
        tests:
          - not_null
          - unique

  - name: rpt_service_ping_instance_metric_estimated_monthly
    description: ' {{ doc("rpt_service_ping_instance_metric_estimated_monthly") }} '
    columns:
      - name: rpt_service_ping_instance_metric_estimated_monthly_id
        tests:
          - not_null
          - unique

  - name: dim_service_ping_metric
    description: ' {{ doc("dim_service_ping_metric") }} '
    columns:
      - name: dim_service_ping_metric_id
        tests:
          - not_null
          - unique

  - name: mart_xmau_metric_monthly
    description: '{{ doc("mart_xmau_metric_monthly") }}'
    columns:
      - name: mart_xmau_metric_monthly_id
        description: the unique ID of a monthly xMAU metric in mart_xmau_metric_monthly
        tests:
          - not_null
          - unique
      - name: reporting_month
        description: Month in which the product usage was reported. (this model only looks at d      the last 28 days of the month.)
      - name: is_smau
        description: Denotes whether the event is identified as the stage's SMAU (stage monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_gmau
        description: Denotes whether the event is identified as the stage's GMAU (group monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: is_umau
        description: Denotes whether the event is identified as the stage's UMAU (unique monthly active user) metric. See [Page](https://internal-handbook.gitlab.io/product/performance-indicators/) for metric definitions
      - name: stage_name
        description: The name of the product stage (Stages are aligned logically starting with the 7 loop stages of Plan, Create, Verify, Package, Release, Configure, and Monitor. We then add the value stages that we talk about in marketing, these include Manage, Secure, and Protect. Lastly, we add the team stages, Ecosystem, Growth, and Enablement. These stages have groups that rally around the same users, GitLab integrators, GitLab itself, and GitLab administrators respectively.).
      - name: section_name
        description: The name of the section (Sections are a collection of stages. We attempt to align these logically along common workflows like Dev, Sec and Ops.).
      - name: group_name
        description: The name of the group (A stage has one or more groups.).
      - name: user_group
      - name: event_name_array
      - name: event_count
        description: The count of events
      - name: namespace_count
        description: The count of namespaces
      - name: user_count
        description: The count of users
      - name: created_by
        description: Who created this model?
      - name: update_by
        description: Who updated this model last?
      - name: model_created_date
        description: The date at which the model was created
      - name: model_updated_date
        description: The date at which the model code was last updated
